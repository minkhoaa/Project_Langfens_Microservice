{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "JwtSettings": {
    "Issuer": "IssuerName",
    "Audience": "AudienceName",
    "SignKey": "bTNGPmniBGyINHPdsmONct16TIqqb1bZ"
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "Routes": {
      "auth-api": {
        "ClusterId": "auth-cluster",
        "Match": { "Path": "/api-auth/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-auth" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "exams-api": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api-exams/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-exams" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "attempts-api": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api-attempts/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-attempts" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "vocabulary-api": {
        "ClusterId": "vocabulary-cluster",
        "Match": { "Path": "/api-vocabulary/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-vocabulary" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "course-api": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api-course/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-course" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "speaking-api": {
        "ClusterId": "speaking-cluster",
        "Match": { "Path": "/api-speaking/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-speaking" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "writing-api": {
        "ClusterId": "writing-cluster",
        "Match": { "Path": "/api-writing/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-writing" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "email-api": {
        "ClusterId": "email-cluster",
        "Match": { "Path": "/api-email/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-email" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "chatbot-api": {
        "ClusterId": "chatbot-cluster",
        "Match": { "Path": "/api-chatbot/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-chatbot" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "dictionary-api": {
        "ClusterId": "dictionary-cluster",
        "Match": { "Path": "/api-dictionary/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-dictionary" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "analytics-api": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api-analytics/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-analytics" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "gamification-api": {
        "ClusterId": "gamification-cluster",
        "Match": { "Path": "/api-gamification/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-gamification" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "notification-api": {
        "ClusterId": "gamification-cluster",
        "Match": { "Path": "/api-notification/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-notification" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "study-plan-api": {
        "ClusterId": "gamification-cluster",
        "Match": { "Path": "/api-study-plan/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-study-plan" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "auth-api-direct": {
        "ClusterId": "auth-cluster",
        "Match": { "Path": "/api/auth/{**catch-all}" }
      },
      "exam-public-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/public/exam/{**catch-all}" }
      },
      "exam-admin-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/exam/{**catch-all}" }
      },
      "exam-section-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/section/{**catch-all}" }
      },
      "exam-question-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/question/{**catch-all}" }
      },
      "exam-option-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/option/{**catch-all}" }
      },
      "exam-internal-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/internal/{**catch-all}" }
      },
      "attempts-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/attempt/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/attempt" }]
      },
      "courses-api-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/course/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/course" }]
      },
      "lessons-api-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/lesson/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/lesson" }]
      },
      "courses-admin-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/admin/course/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/admin/course" }]
      },
      "vocabulary-api-direct": {
        "ClusterId": "vocabulary-cluster",
        "Match": { "Path": "/api/vocabulary/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/vocabulary" }]
      },
      "email-api-direct": {
        "ClusterId": "email-cluster",
        "Match": { "Path": "/api/mail/{**catch-all}" }
      },
      "writing-api-direct": {
        "ClusterId": "writing-cluster",
        "Match": { "Path": "/api/writing/{**catch-all}" },
        "Transforms": [{ "PathRemovePrefix": "/api/writing" }]
      },
      "gamification-api-direct": {
        "ClusterId": "gamification-cluster",
        "Match": { "Path": "/api/gamification/{**catch-all}" }
      },
      "question-bank-api-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/question-bank/{**catch-all}" }
      },
      "analytics-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/analytics/{**catch-all}" }
      },
      "study-plan-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/study-plan/{**catch-all}" }
      },
      "notifications-api-direct": {
        "ClusterId": "gamification-cluster",
        "Match": { "Path": "/api/notifications/{**catch-all}" }
      },
      "notes-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/notes/{**catch-all}" }
      },
      "bookmarks-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/bookmarks/{**catch-all}" }
      }
    },

    "Clusters": {
      "auth-cluster": {
        "Destinations": { "d1": { "Address": "http://auth-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "exam-cluster": {
        "Destinations": { "d1": { "Address": "http://exam-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "attempt-cluster": {
        "Destinations": { "d1": { "Address": "http://attempt-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "vocabulary-cluster": {
        "Destinations": {
          "d1": { "Address": "http://vocabulary-service:8080" }
        },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "course-cluster": {
        "Destinations": { "d1": { "Address": "http://course-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "speaking-cluster": {
        "Destinations": { "d1": { "Address": "http://speaking-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "writing-cluster": {
        "Destinations": { "d1": { "Address": "http://writing-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "email-cluster": {
        "Destinations": { "d1": { "Address": "http://email-service:3000" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "chatbot-cluster": {
        "Destinations": { "d1": { "Address": "http://chatbot-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "dictionary-cluster": {
        "Destinations": {
          "d1": { "Address": "http://dictionary-service:8080" }
        },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "gamification-cluster": {
        "Destinations": {
          "d1": { "Address": "http://gamification-service:8080" }
        },
        "HttpClient": { "Timeout": "00:00:20" }
      }
    }
  }
}
