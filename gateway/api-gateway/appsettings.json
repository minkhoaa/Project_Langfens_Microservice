{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "JwtSettings": {
    "Issuer": "IssuerName",
    "Audience": "AudienceName",
    "SignKey": "bTNGPmniBGyINHPdsmONct16TIqqb1bZ"
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "Routes": {
      "auth-api": {
        "ClusterId": "auth-cluster",
        "Match": { "Path": "/api-auth/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-auth" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "exams-api": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api-exams/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-exams" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "attempts-api": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api-attempts/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-attempts" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "vocabulary-api": {
        "ClusterId": "vocabulary-cluster",
        "Match": { "Path": "/api-vocabulary/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-vocabulary" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "courses-api": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api-courses/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-courses" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "speaking-api": {
        "ClusterId": "speaking-cluster",
        "Match": { "Path": "/api-speaking/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-speaking" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "email-api": {
        "ClusterId": "email-cluster",
        "Match": { "Path": "/api-email/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api-email" },
          { "PathPrefix": "/api" },
          { "RequestHeaderOriginalHost": "true" }
        ]
      },
      "auth-api-direct": {
        "ClusterId": "auth-cluster",
        "Match": { "Path": "/api/auth/{**catch-all}" }
      },
      "exam-public-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/public/exam/{**catch-all}" }
      },
      "exam-admin-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/exam/{**catch-all}" }
      },
      "exam-section-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/section/{**catch-all}" }
      },
      "exam-question-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/question/{**catch-all}" }
      },
      "exam-option-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/admin/option/{**catch-all}" }
      },
      "exam-internal-direct": {
        "ClusterId": "exam-cluster",
        "Match": { "Path": "/api/internal/{**catch-all}" }
      },
      "attempts-api-direct": {
        "ClusterId": "attempt-cluster",
        "Match": { "Path": "/api/attempt/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api/attempt" }
        ]
      },
      "courses-api-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/course/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api/course" }
        ]
      },
      "lessons-api-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/lesson/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api/lesson" }
        ]
      },
      "courses-admin-direct": {
        "ClusterId": "course-cluster",
        "Match": { "Path": "/api/admin/course/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api/admin/course" }
        ]
      },
      "vocabulary-api-direct": {
        "ClusterId": "vocabulary-cluster",
        "Match": { "Path": "/api/vocabulary/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api/vocabulary" }
        ]
      },
      "email-api-direct": {
        "ClusterId": "email-cluster",
        "Match": { "Path": "/api/mail/{**catch-all}" }
      }
    },

    "Clusters": {
      "auth-cluster": {
        "Destinations": { "d1": { "Address": "http://auth-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "exam-cluster": {
        "Destinations": { "d1": { "Address": "http://exam-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "attempt-cluster": {
        "Destinations": { "d1": { "Address": "http://attempt-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "vocabulary-cluster": {
        "Destinations": { "d1": { "Address": "http://vocabulary-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "course-cluster": {
        "Destinations": { "d1": { "Address": "http://course-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "speaking-cluster": {
        "Destinations": { "d1": { "Address": "http://speaking-service:8080" } },
        "HttpClient": { "Timeout": "00:00:20" }
      },
      "email-cluster": {
        "Destinations": { "d1": { "Address": "http://email-service:3000" } },
        "HttpClient": { "Timeout": "00:00:20" }
      }
    }
  }
}
